window.spp_backend_state_AYUMI={notReady:!0,adapterCallback:function(){}},window.spp_backend_state_AYUMI.onRuntimeInitialized=function(){this.notReady=!1,this.adapterCallback()}.bind(window.spp_backend_state_AYUMI);var backend_AYUMI=function(e){var l;l||(l=void 0!==e?e:{});var t,r={};for(t in l)l.hasOwnProperty(t)&&(r[t]=l[t]);l.arguments=[],l.thisProgram="./this.program",l.quit=function(e,t){throw t},l.preRun=[];var n,i,d=!(l.postRun=[]),c=!1,a=!1,o=!1;if(l.ENVIRONMENT)if("WEB"===l.ENVIRONMENT)d=!0;else if("WORKER"===l.ENVIRONMENT)c=!0;else if("NODE"===l.ENVIRONMENT)a=!0;else{if("SHELL"!==l.ENVIRONMENT)throw Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");o=!0}else d="object"==typeof window,c="function"==typeof importScripts,a="object"==typeof process&&"function"==typeof require&&!d&&!c,o=!d&&!a&&!c;if(a)l.read=function(e,t){return n||(n=require("fs")),i||(i=require("path")),e=i.normalize(e),e=n.readFileSync(e),t?e:e.toString()},l.readBinary=function(e){return(e=l.read(e,!0)).buffer||(e=new Uint8Array(e)),p(e.buffer),e},1<process.argv.length&&(l.thisProgram=process.argv[1].replace(/\\/g,"/")),l.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=l),process.on("uncaughtException",function(e){if(!(e instanceof we))throw e}),process.on("unhandledRejection",function(){l.printErr("node.js exiting due to unhandled promise rejection"),process.exit(1)}),l.inspect=function(){return"[Emscripten Module object]"};else if(o)"undefined"!=typeof read&&(l.read=function(e){return read(e)}),l.readBinary=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(p("object"==typeof(e=read(e,"binary"))),e)},"undefined"!=typeof scriptArgs?l.arguments=scriptArgs:void 0!==arguments&&(l.arguments=arguments),"function"==typeof quit&&(l.quit=function(e){quit(e)});else{if(!d&&!c)throw Error("unknown runtime environment");l.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c&&(l.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),l.readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},void 0!==arguments&&(l.arguments=arguments),l.setWindowTitle=function(e){document.title=e}}for(t in l.print="undefined"!=typeof console?console.log:"undefined"!=typeof print?print:null,l.printErr="undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn||l.print,l.print=l.print,l.printErr=l.printErr,r)r.hasOwnProperty(t)&&(l[t]=r[t]);function s(e){var t;return t||(t=16),Math.ceil(e/t)*t}function f(e){u||(u={}),u[e]||(u[e]=1,l.printErr(e))}r=void 0,_e=Te=Ee=function(){ve("cannot use the stack before compiled code is ready to run, and has provided stack access")};var u,h=0;function p(e,t){e||ve("Assertion failed: "+t)}var m={stackSave:function(){_e()},stackRestore:function(){Te()},arrayToC:function(e){var t=Ee(e.length);return p(0<=e.length,"writeArrayToMemory array must have a length (should be an array or typed array)"),_.set(e,t),t},stringToC:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2),n=t=Ee(r);p("number"==typeof r,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");var i=w;if(0<r){r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),o<=127){if(r<=n)break;i[n++]=o}else{if(o<=2047){if(r<=n+1)break;i[n++]=192|o>>6}else{if(o<=65535){if(r<=n+2)break;i[n++]=224|o>>12}else{if(o<=2097151){if(r<=n+3)break;i[n++]=240|o>>18}else{if(o<=67108863){if(r<=n+4)break;i[n++]=248|o>>24}else{if(r<=n+5)break;i[n++]=252|o>>30,i[n++]=128|o>>24&63}i[n++]=128|o>>18&63}i[n++]=128|o>>12&63}i[n++]=128|o>>6&63}i[n++]=128|63&o}}i[n]=0}}return t}},E={string:m.stringToC,array:m.arrayToC};var T,_,w,y,b,g,v,R,A,S,k,x,O,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(){e:{var t=Error();if(!t.stack){try{throw Error(0)}catch(e){t=e}if(!t.stack){t="(no stack trace available)";break e}}t=t.stack.toString()}return l.extraStackTrace&&(t+="\n"+l.extraStackTrace()),t.replace(/__Z[\w\d_]+/g,function(e){return f("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e==e?e:e+" ["+e+"]"})}function F(){l.HEAP8=_=new Int8Array(T),l.HEAP16=y=new Int16Array(T),l.HEAP32=b=new Int32Array(T),l.HEAPU8=w=new Uint8Array(T),l.HEAPU16=new Uint16Array(T),l.HEAPU32=g=new Uint32Array(T),l.HEAPF32=new Float32Array(T),l.HEAPF64=new Float64Array(T)}function N(){if(34821223==g[(k>>2)-1]&&2310721022==g[(k>>2)-2]||ve("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+g[(k>>2)-2].toString(16)+" "+g[(k>>2)-1].toString(16)),1668509029!==b[0])throw"Runtime error: The application has corrupted its heap memory area (address zero)!"}function U(){ve("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+D+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),v=S=k=0,R=!1;var L=l.TOTAL_STACK||5242880,D=l.TOTAL_MEMORY||16777216;if(D<L&&l.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+D+"! (TOTAL_STACK="+L+")"),p("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),l.buffer?p((T=l.buffer).byteLength===D,"provided buffer should be "+D+" bytes, but it is "+T.byteLength):("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(p(0==D%65536),l.wasmMemory=new WebAssembly.Memory({initial:D/65536,maximum:D/65536}),T=l.wasmMemory.buffer):T=new ArrayBuffer(D),p(T.byteLength===D),l.buffer=T),F(),b[0]=1668509029,y[1]=25459,115!==w[2]||99!==w[3])throw"Runtime error: expected the system to be little-endian!";function X(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var r=t.f;"number"==typeof r?void 0===t.a?l.dynCall_v(r):l.dynCall_vi(r,t.a):r(void 0===t.a?null:t.a)}}}var B=[],C=[],P=[],H=[],Q=[],z=!1,W=!1;p(Math.imul&&Math.fround&&Math.clz32&&Math.trunc,"this is a legacy browser, build with LEGACY_VM_SUPPORT");var Z=0,Y=null,V=null,j={};function K(){ve("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")}function G(e){return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}l.preloadedImages={},l.preloadedAudios={},l.FS_createDataFile=function(){K()},l.FS_createPreloadedFile=function(){K()},function(){function a(){try{if(l.wasmBinary)return new Uint8Array(l.wasmBinary);if(l.readBinary)return l.readBinary(o);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(e){ve(e)}}function n(e){function t(e){if((f=e.exports).memory){e=f.memory;var t=l.buffer;e.byteLength<t.byteLength&&l.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here"),t=new Int8Array(t),new Int8Array(e).set(t),l.buffer=T=e,F()}l.asm=f,l.usingWasm=!0,Z--,l.monitorRunDependencies&&l.monitorRunDependencies(Z),p(j["wasm-instantiate"]),delete j["wasm-instantiate"],0==Z&&(null!==Y&&(clearInterval(Y),Y=null),V&&(e=V,V=null,e()))}function r(e){p(l===i,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),i=null,t(e.instance)}function n(e){(l.wasmBinary||!d&&!c||"function"!=typeof fetch?new Promise(function(e){e(a())}):fetch(o,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+o+"'";return e.arrayBuffer()}).catch(function(){return a()})).then(function(e){return WebAssembly.instantiate(e,s)}).then(e).catch(function(e){l.printErr("failed to asynchronously prepare wasm: "+e),ve(e)})}if("object"!=typeof WebAssembly)return l.printErr("no native wasm support detected"),!1;if(!(l.wasmMemory instanceof WebAssembly.Memory))return l.printErr("no native wasm Memory in use"),!1;if(e.memory=l.wasmMemory,s.global={NaN:NaN,Infinity:1/0},s["global.Math"]=Math,s.env=e,Z++,l.monitorRunDependencies&&l.monitorRunDependencies(Z),p(!j["wasm-instantiate"]),j["wasm-instantiate"]=1,null===Y&&"undefined"!=typeof setInterval&&(Y=setInterval(function(){if(h)clearInterval(Y),Y=null;else{var e,t=!1;for(e in j)t||(t=!0,l.printErr("still waiting on run dependencies:")),l.printErr("dependency: "+e);t&&l.printErr("(end of list)")}},1e4)),l.instantiateWasm)try{return l.instantiateWasm(s,t)}catch(e){return l.printErr("Module.instantiateWasm callback failed with error: "+e),!1}var i=l;return l.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||G(o)||"function"!=typeof fetch?n(r):WebAssembly.instantiateStreaming(fetch(o,{credentials:"same-origin"}),s).then(r).catch(function(e){l.printErr("wasm streaming compile failed: "+e),l.printErr("falling back to ArrayBuffer instantiation"),n(r)}),{}}var e="ayumi.wast",o="ayumi.wasm",t="ayumi.temp.asm.js";"function"==typeof l.locateFile&&(G(e)||(e=l.locateFile(e)),G(o)||(o=l.locateFile(o)),G(t)||(t=l.locateFile(t)));var s={global:null,env:null,asm2wasm:{"f64-rem":function(e,t){return e%t},debugger:function(){}},parent:l},f=null;l.asmPreload=l.asm;var i=l.reallocBuffer;l.reallocBuffer=function(t){if("asmjs"===u)var r=i(t);else e:{var n=l.usingWasm?65536:16777216;if(0<t%n&&(t+=n-t%n),n=l.buffer.byteLength,l.usingWasm)try{r=-1!==l.wasmMemory.grow((t-n)/65536)?l.buffer=l.wasmMemory.buffer:null;break e}catch(e){console.error("Module.reallocBuffer: Attempted to grow from "+n+" bytes to "+t+" bytes, but got error: "+e),r=null;break e}r=void 0}return r};var u="";l.asm=function(e,t){if(!t.table){void 0===(e=l.wasmTableSize)&&(e=1024);var r=l.wasmMaxTableSize;t.table="object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0!==r?new WebAssembly.Table({initial:e,maximum:r,element:"anyfunc"}):new WebAssembly.Table({initial:e,element:"anyfunc"}):Array(e),l.wasmTable=t.table}return t.memoryBase||(t.memoryBase=l.STATIC_BASE),t.tableBase||(t.tableBase=0),(t=n(t))||ve("no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: https://github.com/kripken/emscripten/wiki/WebAssembly#binaryen-methods"),t}}(),v=139520,C.push(),l.STATIC_BASE=1024,l.STATIC_BUMP=138496;var q=v;v+=16,p(0==q%8),p(!R),A=S=s(v=(O=v)+4+15&-16),x=s(k=A+L),R=!0,p((b[O>>2]=x)<D,"TOTAL_MEMORY not big enough for stack"),l.wasmTableSize=13,l.wasmMaxTableSize=13,l.b={},l.c={enlargeMemory:function(){U()},getTotalMemory:function(){return D},abortOnCannotGrowMemory:U,abortStackOverflow:function(e){ve("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(k-_e()+e)+" bytes available!")},nullFunc_ii:function(e){l.printErr("Invalid function pointer called with signature 'ii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),l.printErr("Build with ASSERTIONS=2 for more info."),ve(e)},nullFunc_iiii:function(e){l.printErr("Invalid function pointer called with signature 'iiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),l.printErr("Build with ASSERTIONS=2 for more info."),ve(e)},nullFunc_vi:function(e){l.printErr("Invalid function pointer called with signature 'vi'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),l.printErr("Build with ASSERTIONS=2 for more info."),ve(e)},___setErrNo:function(e){return l.___errno_location?b[l.___errno_location()>>2]=e:l.printErr("failed to set errno from JS"),e},DYNAMICTOP_PTR:O,STACKTOP:S,STACK_MAX:k};var J=l.asm(l.b,l.c,T),$=J._computeAudioSamples;J._computeAudioSamples=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$.apply(null,arguments)};var ee=J._free;J._free=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ee.apply(null,arguments)};var te=J._getBufferVoice1;J._getBufferVoice1=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),te.apply(null,arguments)};var re=J._getBufferVoice2;J._getBufferVoice2=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),re.apply(null,arguments)};var ne=J._getBufferVoice3;J._getBufferVoice3=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ne.apply(null,arguments)};var ie=J._getSoundBuffer;J._getSoundBuffer=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ie.apply(null,arguments)};var ae=J._getSoundBufferLen;J._getSoundBufferLen=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ae.apply(null,arguments)};var oe=J._loadSongFile;J._loadSongFile=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),oe.apply(null,arguments)};var se=J._malloc;J._malloc=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),se.apply(null,arguments)};var fe=J._sbrk;J._sbrk=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),fe.apply(null,arguments)};var ue=J.establishStackSpace;J.establishStackSpace=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ue.apply(null,arguments)};var le=J.getTempRet0;J.getTempRet0=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),le.apply(null,arguments)};var de=J.setTempRet0;J.setTempRet0=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),de.apply(null,arguments)};var ce=J.setThrew;J.setThrew=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ce.apply(null,arguments)};var he=J.stackAlloc;J.stackAlloc=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),he.apply(null,arguments)};var pe=J.stackRestore;J.stackRestore=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),pe.apply(null,arguments)};var me=J.stackSave;J.stackSave=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),me.apply(null,arguments)},l.asm=J,l._computeAudioSamples=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._computeAudioSamples.apply(null,arguments)},l._free=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._free.apply(null,arguments)},l._getBufferVoice1=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._getBufferVoice1.apply(null,arguments)},l._getBufferVoice2=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._getBufferVoice2.apply(null,arguments)},l._getBufferVoice3=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._getBufferVoice3.apply(null,arguments)},l._getSoundBuffer=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._getSoundBuffer.apply(null,arguments)},l._getSoundBufferLen=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._getSoundBufferLen.apply(null,arguments)},l._loadSongFile=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._loadSongFile.apply(null,arguments)},l._malloc=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._malloc.apply(null,arguments)},l._sbrk=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm._sbrk.apply(null,arguments)},l.establishStackSpace=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.establishStackSpace.apply(null,arguments)},l.getTempRet0=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.getTempRet0.apply(null,arguments)},l.setTempRet0=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.setTempRet0.apply(null,arguments)},l.setThrew=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.setThrew.apply(null,arguments)};var Ee=l.stackAlloc=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.stackAlloc.apply(null,arguments)},Te=l.stackRestore=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.stackRestore.apply(null,arguments)},_e=l.stackSave=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.stackSave.apply(null,arguments)};function we(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}l.dynCall_vi=function(){return p(z,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),p(!W,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),l.asm.dynCall_vi.apply(null,arguments)},l.asm=J,l.intArrayFromString||(l.intArrayFromString=function(){ve("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.intArrayToString||(l.intArrayToString=function(){ve("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.ccall=function(e,t,r,n){var i=l["_"+e];p(i,"Cannot call unknown function "+e+", make sure it is exported");var a=[];if(e=0,p("array"!==t,'Return type should not be "array".'),n)for(var o=0;o<n.length;o++){var s=E[r[o]];s?(0===e&&(e=_e()),a[o]=s(n[o])):a[o]=n[o]}return r=i.apply(null,a),"string"===t&&(r=function(e){var t;if(0===t||!e)return"";for(var r,n=0,i=0;p(e+i<D),n|=r=w[e+i>>0],(0!=r||t)&&(i++,!t||i!=t););if(t||(t=i),r="",n<128){for(;0<t;)n=String.fromCharCode.apply(String,w.subarray(e,e+Math.min(t,1024))),r=r?r+n:n,e+=1024,t-=1024;return r}e:{for(t=w,n=e;t[n];)++n;if(16<n-e&&t.subarray&&M)e=M.decode(t.subarray(e,n));else for(n="";;){if(!(r=t[e++])){e=n;break e}if(128&r)if(i=63&t[e++],192==(224&r))n+=String.fromCharCode((31&r)<<6|i);else{var a=63&t[e++];if(224==(240&r))r=(15&r)<<12|i<<6|a;else{var o=63&t[e++];if(240==(248&r))r=(7&r)<<18|i<<12|a<<6|o;else{var s=63&t[e++];r=248==(252&r)?(3&r)<<24|i<<18|a<<12|o<<6|s:(1&r)<<30|i<<24|a<<18|o<<12|s<<6|63&t[e++]}}r<65536?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}else n+=String.fromCharCode(r)}}return e}(r)),0!==e&&Te(e),r},l.cwrap||(l.cwrap=function(){ve("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.setValue||(l.setValue=function(){ve("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.getValue||(l.getValue=function(){ve("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.allocate||(l.allocate=function(){ve("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.getMemory||(l.getMemory=function(){ve("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.Pointer_stringify||(l.Pointer_stringify=function(){ve("'Pointer_stringify' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.AsciiToString||(l.AsciiToString=function(){ve("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.stringToAscii||(l.stringToAscii=function(){ve("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.UTF8ArrayToString||(l.UTF8ArrayToString=function(){ve("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.UTF8ToString||(l.UTF8ToString=function(){ve("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.stringToUTF8Array||(l.stringToUTF8Array=function(){ve("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.stringToUTF8||(l.stringToUTF8=function(){ve("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.UTF16ToString||(l.UTF16ToString=function(){ve("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.stringToUTF16||(l.stringToUTF16=function(){ve("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.lengthBytesUTF16||(l.lengthBytesUTF16=function(){ve("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.UTF32ToString||(l.UTF32ToString=function(){ve("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.stringToUTF32||(l.stringToUTF32=function(){ve("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.lengthBytesUTF32||(l.lengthBytesUTF32=function(){ve("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.allocateUTF8||(l.allocateUTF8=function(){ve("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.stackTrace||(l.stackTrace=function(){ve("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addOnPreRun||(l.addOnPreRun=function(){ve("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addOnInit||(l.addOnInit=function(){ve("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addOnPreMain||(l.addOnPreMain=function(){ve("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addOnExit||(l.addOnExit=function(){ve("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addOnPostRun||(l.addOnPostRun=function(){ve("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.writeStringToMemory||(l.writeStringToMemory=function(){ve("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.writeArrayToMemory||(l.writeArrayToMemory=function(){ve("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.writeAsciiToMemory||(l.writeAsciiToMemory=function(){ve("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addRunDependency||(l.addRunDependency=function(){ve("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.removeRunDependency||(l.removeRunDependency=function(){ve("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS||(l.FS=function(){ve("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.FS_createFolder||(l.FS_createFolder=function(){ve("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS_createPath||(l.FS_createPath=function(){ve("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS_createDataFile||(l.FS_createDataFile=function(){ve("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS_createPreloadedFile||(l.FS_createPreloadedFile=function(){ve("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS_createLazyFile||(l.FS_createLazyFile=function(){ve("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS_createLink||(l.FS_createLink=function(){ve("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS_createDevice||(l.FS_createDevice=function(){ve("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.FS_unlink||(l.FS_unlink=function(){ve("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),l.GL||(l.GL=function(){ve("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.staticAlloc||(l.staticAlloc=function(){ve("'staticAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.dynamicAlloc||(l.dynamicAlloc=function(){ve("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.warnOnce||(l.warnOnce=function(){ve("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.loadDynamicLibrary||(l.loadDynamicLibrary=function(){ve("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.loadWebAssemblyModule||(l.loadWebAssemblyModule=function(){ve("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.getLEB||(l.getLEB=function(){ve("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.getFunctionTables||(l.getFunctionTables=function(){ve("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.alignFunctionTables||(l.alignFunctionTables=function(){ve("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.registerFunctions||(l.registerFunctions=function(){ve("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.addFunction||(l.addFunction=function(){ve("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.removeFunction||(l.removeFunction=function(){ve("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.getFuncWrapper||(l.getFuncWrapper=function(){ve("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.prettyPrint||(l.prettyPrint=function(){ve("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.makeBigInt||(l.makeBigInt=function(){ve("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.dynCall||(l.dynCall=function(){ve("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.getCompilerSetting||(l.getCompilerSetting=function(){ve("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),l.ALLOC_NORMAL||Object.defineProperty(l,"ALLOC_NORMAL",{get:function(){ve("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),l.ALLOC_STACK||Object.defineProperty(l,"ALLOC_STACK",{get:function(){ve("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),l.ALLOC_STATIC||Object.defineProperty(l,"ALLOC_STATIC",{get:function(){ve("'ALLOC_STATIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),l.ALLOC_DYNAMIC||Object.defineProperty(l,"ALLOC_DYNAMIC",{get:function(){ve("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),l.ALLOC_NONE||Object.defineProperty(l,"ALLOC_NONE",{get:function(){ve("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),(we.prototype=Error()).constructor=we;var ye=null;function be(){function e(){if(!l.calledRun&&(l.calledRun=!0,!h)){if(N(),z||(z=!0,X(C)),N(),X(P),d&&null!==ye&&l.printErr("pre-main prep time: "+(Date.now()-ye)+" ms"),l.onRuntimeInitialized&&l.onRuntimeInitialized(),p(!l._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),N(),l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;){var e=l.postRun.shift();Q.unshift(e)}X(Q)}}if(null===ye&&(ye=Date.now()),!(0<Z)){if(p(0==(3&k)),g[(k>>2)-1]=34821223,g[(k>>2)-2]=2310721022,l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)void 0,t=l.preRun.shift(),B.unshift(t);X(B),0<Z||l.calledRun||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),e()},1)):e(),N())}var t}V=function e(){l.calledRun||be(),l.calledRun||(V=e)},l.run=be,l.exit=function(e,t){var r,n,i;r=l.print,n=l.printErr,i=!1,l.print=l.printErr=function(){i=!0},l.print=r,l.printErr=n,i&&f("stdio streams had content in them that was not flushed. you should set NO_EXIT_RUNTIME to 0 (see the FAQ), or make sure to emit a newline when you printf etc."),t&&l.noExitRuntime&&0===e||(l.noExitRuntime?t||l.printErr("exit("+e+") called, but NO_EXIT_RUNTIME is set, so halting execution but not exiting the runtime or preventing further async execution (build with NO_EXIT_RUNTIME=0, if you want a true shutdown)"):(h=!0,S=void 0,N(),X(H),W=!0,l.onExit&&l.onExit(e)),a&&process.exit(e),l.quit(e,new we(e)))};var ge=[];function ve(t){l.onAbort&&l.onAbort(t),void 0!==t?(l.print(t),l.printErr(t),t=JSON.stringify(t)):t="",h=!0;var r="abort("+t+") at "+I();throw ge&&ge.forEach(function(e){r=e(r,t)}),r}if(l.abort=ve,l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return l.noExitRuntime=!0,be(),{Module:e}}(window.spp_backend_state_AYUMI);!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=e()}}(function(){return function a(o,s,f){function u(r,e){if(!s[r]){if(!o[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[r]={exports:{}};o[r][0].call(i.exports,function(e){var t=o[r][1][e];return u(t||e)},i,i.exports,a,o,s,f)}return s[r].exports}for(var l="function"==typeof require&&require,e=0;e<f.length;e++)u(f[e]);return u}({1:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],2:[function(e,t,r){"use strict";function f(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,u.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}var u=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var l=new u.Buf8(256),n=0;n<256;n++)l[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;l[254]=l[254]=1,r.string2buf=function(e){var t,r,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&(56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new u.Buf8(s),i=a=0;a<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&(56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return f(e,e.length)},r.binstring2buf=function(e){for(var t=new u.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,a,o=t||e.length,s=new Array(2*o);for(r=n=0;r<o;)if((i=e[r++])<128)s[n++]=i;else if(4<(a=l[i]))s[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&r<o;)i=i<<6|63&e[r++],a--;1<a?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return f(s,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+l[e[r]]>t?r:t}},{"./common":1}],3:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;a=a+(i=i+t[n++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],4:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,r){"use strict";var s=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=s,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}},{}],6:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,a,o,s,f,u,l,d,c,h,p,m,E,T,_,w,y,b,g,v,R,A,S;r=e.state,n=e.next_in,A=e.input,i=n+(e.avail_in-5),a=e.next_out,S=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),f=r.dmax,u=r.wsize,l=r.whave,d=r.wnext,c=r.window,h=r.hold,p=r.bits,m=r.lencode,E=r.distcode,T=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{p<15&&(h+=A[n++]<<p,p+=8,h+=A[n++]<<p,p+=8),w=m[h&T];t:for(;;){if(h>>>=y=w>>>24,p-=y,0===(y=w>>>16&255))S[a++]=65535&w;else{if(!(16&y)){if(0==(64&y)){w=m[(65535&w)+(h&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}b=65535&w,(y&=15)&&(p<y&&(h+=A[n++]<<p,p+=8),b+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=A[n++]<<p,p+=8,h+=A[n++]<<p,p+=8),w=E[h&_];r:for(;;){if(h>>>=y=w>>>24,p-=y,!(16&(y=w>>>16&255))){if(0==(64&y)){w=E[(65535&w)+(h&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(g=65535&w,p<(y&=15)&&(h+=A[n++]<<p,(p+=8)<y&&(h+=A[n++]<<p,p+=8)),f<(g+=h&(1<<y)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=y,p-=y,(y=a-o)<g){if(l<(y=g-y)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(R=c,(v=0)===d){if(v+=u-y,y<b){for(b-=y;S[a++]=c[v++],--y;);v=a-g,R=S}}else if(d<y){if(v+=u+d-y,(y-=d)<b){for(b-=y;S[a++]=c[v++],--y;);if(v=0,d<b){for(b-=y=d;S[a++]=c[v++],--y;);v=a-g,R=S}}}else if(v+=d-y,y<b){for(b-=y;S[a++]=c[v++],--y;);v=a-g,R=S}for(;2<b;)S[a++]=R[v++],S[a++]=R[v++],S[a++]=R[v++],b-=3;b&&(S[a++]=R[v++],1<b&&(S[a++]=R[v++]))}else{for(v=a-g;S[a++]=S[v++],S[a++]=S[v++],S[a++]=S[v++],2<(b-=3););b&&(S[a++]=S[v++],1<b&&(S[a++]=S[v++]))}break}}break}}while(n<i&&a<s);n-=b=p>>3,h&=(1<<(p-=b<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=h,r.bits=p}},{}],8:[function(e,t,r){"use strict";function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new X.Buf16(320),this.work=new X.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function n(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Y,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new X.Buf32(l),t.distcode=t.distdyn=new X.Buf32(d),t.sane=1,t.back=-1,W):Z}function a(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,n(e)):Z}function o(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?Z:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,a(e))):Z}function s(e,t){var r,n;return e?(n=new i,(e.state=n).window=null,(r=o(e,t))!==W&&(e.state=null),r):Z}function D(e){if(c){var t;for(f=new X.Buf32(512),u=new X.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(H(Q,e.lens,0,288,f,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;H(z,e.lens,0,32,u,0,e.work,{bits:5}),c=!1}e.lencode=f,e.lenbits=9,e.distcode=u,e.distbits=5}var f,u,X=e("../utils/common"),B=e("./adler32"),C=e("./crc32"),P=e("./inffast"),H=e("./inftrees"),Q=1,z=2,W=0,Z=-2,Y=1,l=852,d=592,c=!0;r.inflateReset=a,r.inflateReset2=o,r.inflateResetKeep=n,r.inflateInit=function(e){return s(e,15)},r.inflateInit2=s,r.inflate=function(e,t){var r,n,i,a,o,s,f,u,l,d,c,h,p,m,E,T,_,w,y,b,g,v,R,A,S,k,x,O,M,I,F=0,N=new X.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z;12===(r=e.state).mode&&(r.mode=13),o=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,d=s,c=f,v=W;e:for(;;)switch(r.mode){case Y:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(2&r.wrap&&35615===u){N[r.check=0]=255&u,N[1]=u>>>8&255,r.check=C(r.check,N,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&u)){e.msg="unknown compression method",r.mode=30;break}if(l-=4,g=8+(15&(u>>>=4)),0===r.wbits)r.wbits=g;else if(g>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<g,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(N[0]=255&u,N[1]=u>>>8&255,r.check=C(r.check,N,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(N[0]=255&u,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,r.check=C(r.check,N,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(N[0]=255&u,N[1]=u>>>8&255,r.check=C(r.check,N,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(N[0]=255&u,N[1]=u>>>8&255,r.check=C(r.check,N,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(s<(h=r.length)&&(h=s),h&&(r.head&&(g=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),X.arraySet(r.head.extra,n,a,h,g)),512&r.flags&&(r.check=C(r.check,n,h,a)),s-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break e;for(h=0;g=n[a+h++],r.head&&g&&r.length<65536&&(r.head.name+=String.fromCharCode(g)),g&&h<s;);if(512&r.flags&&(r.check=C(r.check,n,h,a)),s-=h,a+=h,g)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break e;for(h=0;g=n[a+h++],r.head&&g&&r.length<65536&&(r.head.comment+=String.fromCharCode(g)),g&&h<s;);if(512&r.flags&&(r.check=C(r.check,n,h,a)),s-=h,a+=h,g)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(D(r),r.mode=20,6===t){u>>>=2,l-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(h=r.length){if(s<h&&(h=s),f<h&&(h=f),0===h)break e;X.arraySet(i,n,a,h,o),s-=h,a+=h,f-=h,o+=h,r.length-=h;break}r.mode=12;break;case 17:for(;l<14;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}r.lens[U[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},v=H(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,v){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;T=(F=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,_=65535&F,!((E=F>>>24)<=l);){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(_<16)u>>>=E,l-=E,r.lens[r.have++]=_;else{if(16===_){for(A=E+2;l<A;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(u>>>=E,l-=E,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}g=r.lens[r.have-1],h=3+(3&u),u>>>=2,l-=2}else if(17===_){for(A=E+3;l<A;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}l-=E,g=0,h=3+(7&(u>>>=E)),u>>>=3,l-=3}else{for(A=E+7;l<A;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}l-=E,g=0,h=11+(127&(u>>>=E)),u>>>=7,l-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;h--;)r.lens[r.have++]=g}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},v=H(Q,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,v){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},v=H(z,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,v){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=s&&258<=f){e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=l,P(e,c),o=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;T=(F=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,_=65535&F,!((E=F>>>24)<=l);){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(T&&0==(240&T)){for(w=E,y=T,b=_;T=(F=r.lencode[b+((u&(1<<w+y)-1)>>w)])>>>16&255,_=65535&F,!(w+(E=F>>>24)<=l);){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=E,l-=E,r.back+=E,r.length=_,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=12;break}if(64&T){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(A=r.extra;l<A;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;T=(F=r.distcode[u&(1<<r.distbits)-1])>>>16&255,_=65535&F,!((E=F>>>24)<=l);){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(0==(240&T)){for(w=E,y=T,b=_;T=(F=r.distcode[b+((u&(1<<w+y)-1)>>w)])>>>16&255,_=65535&F,!(w+(E=F>>>24)<=l);){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=E,l-=E,r.back+=E,64&T){e.msg="invalid distance code",r.mode=30;break}r.offset=_,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(A=r.extra;l<A;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===f)break e;if(h=c-f,r.offset>h){if((h=r.offset-h)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=i,p=o-r.offset,h=r.length;for(f<h&&(h=f),f-=h,r.length-=h;i[o++]=m[p++],--h;);0===r.length&&(r.mode=21);break;case 26:if(0===f)break e;i[o++]=r.length,f--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===s)break e;s--,u|=n[a++]<<l,l+=8}if(c-=f,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?C(r.check,i,c,o-c):B(r.check,i,c,o-c)),c=f,(r.flags?u:L(u))!==r.check){e.msg="incorrect data check",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===s)break e;s--,u+=n[a++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}l=u=0}r.mode=29;case 29:v=1;break e;case 30:v=-3;break e;case 31:return-4;case 32:default:return Z}return e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&(k=(S=e).output,x=e.next_out,O=c-e.avail_out,null===(I=S.state).window&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new X.Buf8(I.wsize)),O>=I.wsize?(X.arraySet(I.window,k,x-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(O<(M=I.wsize-I.wnext)&&(M=O),X.arraySet(I.window,k,x-O,M,I.wnext),(O-=M)?(X.arraySet(I.window,k,x-O,O,0),I.wnext=O,I.whave=I.wsize):(I.wnext+=M,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=M))),0)?(r.mode=31,-4):(d-=e.avail_in,c-=e.avail_out,e.total_in+=d,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?C(r.check,i,c,e.next_out-c):B(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===d&&0===c||4===t)&&v===W&&(v=-5),v)},r.inflateEnd=function(e){if(!e||!e.state)return Z;var t=e.state;return t.window&&(t.window=null),e.state=null,W},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?Z:((r.head=t).done=!1,W):Z},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,r){"use strict";var U=e("../utils/common"),L=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],D=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,a,o,s){var f,u,l,d,c,h,p,m,E,T=s.bits,_=0,w=0,y=0,b=0,g=0,v=0,R=0,A=0,S=0,k=0,x=null,O=0,M=new U.Buf16(16),I=new U.Buf16(16),F=null,N=0;for(_=0;_<=15;_++)M[_]=0;for(w=0;w<n;w++)M[t[r+w]]++;for(g=T,b=15;1<=b&&0===M[b];b--);if(b<g&&(g=b),0===b)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(y=1;y<b&&0===M[y];y++);for(g<y&&(g=y),_=A=1;_<=15;_++)if(A<<=1,(A-=M[_])<0)return-1;if(0<A&&(0===e||1!==b))return-1;for(I[1]=0,_=1;_<15;_++)I[_+1]=I[_]+M[_];for(w=0;w<n;w++)0!==t[r+w]&&(o[I[t[r+w]]++]=w);if(0===e?(x=F=o,h=19):1===e?(x=L,O-=257,F=D,N-=257,h=256):(x=X,F=B,h=-1),_=y,c=a,l=-1,d=(S=1<<(v=g))-1,1===e&&852<S||2===e&&592<S)return 1;for(R=w=k=0;;){for(0,p=_-R,o[w]<h?(m=0,E=o[w]):o[w]>h?(m=F[N+o[w]],E=x[O+o[w]]):(m=96,E=0),f=1<<_-R,y=u=1<<v;i[c+(k>>R)+(u-=f)]=p<<24|m<<16|E|0,0!==u;);for(f=1<<_-1;k&f;)f>>=1;if(0!==f?(k&=f-1,k+=f):k=0,w++,0==--M[_]){if(_===b)break;_=t[r+o[w]]}if(g<_&&(k&d)!==l){for(0===R&&(R=g),c+=y,A=1<<(v=_-R);v+R<b&&!((A-=M[v+R])<=0);)v++,A<<=1;if(S+=1<<v,1===e&&852<S||2===e&&592<S)return 1;i[l=k&d]=g<<24|v<<16|c-a|0}}return 0!==k&&(i[c+k]=_-R<<24|64<<16|0),s.bits=g,0}},{"../utils/common":1}],10:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,r){"use strict";function n(e,t){var r=new s(t);if(r.push(e,!0),r.err)throw r.msg;return r.result}var l=e("./zlib/inflate.js"),d=e("./utils/common"),c=e("./utils/strings"),h=e("./zlib/constants"),i=e("./zlib/messages"),a=e("./zlib/zstream"),o=e("./zlib/gzheader"),p=Object.prototype.toString,s=function(e){this.options=d.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=l.inflateInit2(this.strm,t.windowBits);if(r!==h.Z_OK)throw new Error(i[r]);this.header=new o,l.inflateGetHeader(this.strm,this.header)};s.prototype.push=function(e,t){var r,n,i,a,o,s=this.strm,f=this.options.chunkSize,u=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof e?s.input=c.binstring2buf(e):"[object ArrayBuffer]"===p.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new d.Buf8(f),s.next_out=0,s.avail_out=f),(r=l.inflate(s,h.Z_NO_FLUSH))===h.Z_BUF_ERROR&&!0===u&&(r=h.Z_OK,u=!1),r!==h.Z_STREAM_END&&r!==h.Z_OK)return this.onEnd(r),!(this.ended=!0);s.next_out&&(0===s.avail_out||r===h.Z_STREAM_END||0===s.avail_in&&(n===h.Z_FINISH||n===h.Z_SYNC_FLUSH))&&("string"===this.options.to?(i=c.utf8border(s.output,s.next_out),a=s.next_out-i,o=c.buf2string(s.output,i),s.next_out=a,s.avail_out=f-a,a&&d.arraySet(s.output,s.output,i,a,0),this.onData(o)):this.onData(d.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(u=!0)}while((0<s.avail_in||0===s.avail_out)&&r!==h.Z_STREAM_END);return r===h.Z_STREAM_END&&(n=h.Z_FINISH),n===h.Z_FINISH?(r=l.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h.Z_OK):(n===h.Z_SYNC_FLUSH&&(this.onEnd(h.Z_OK),s.avail_out=0),!0)},s.prototype.onData=function(e){this.chunks.push(e)},s.prototype.onEnd=function(e){e===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=s,r.inflate=n,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.ungzip=n},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});var LhaArrayReader=function(e){this.buffer=e,this.offset=0,this.subOffset=7};LhaArrayReader.SeekAbsolute=0,LhaArrayReader.SeekRelative=1,LhaArrayReader.prototype.readBits=function(e){for(var t=[1,2,4,8,16,32,64,128],r=this.buffer[this.offset],n=0,i=0;i<e;i++)if(n<<=1,n|=(r&t[this.subOffset])>>this.subOffset,this.subOffset--,this.subOffset<0){if(this.offset+1>=this.buffer.length)return-1;r=this.buffer[++this.offset],this.subOffset=7}return n},LhaArrayReader.prototype.readUInt8=function(){return this.offset+1>=this.buffer.length?-1:this.buffer[this.offset++]},LhaArrayReader.prototype.readUInt16=function(){if(this.offset+2>=this.buffer.length)return-1;var e=255&this.buffer[this.offset]|this.buffer[this.offset+1]<<8&65280;return this.offset+=2,e},LhaArrayReader.prototype.readUInt32=function(){if(this.offset+4>=this.buffer.length)return-1;var e=255&this.buffer[this.offset]|this.buffer[this.offset+1]<<8&65280|this.buffer[this.offset+2]<<16&16711680|this.buffer[this.offset+3]<<24&4278190080;return this.offset+=4,e},LhaArrayReader.prototype.readString=function(e){if(this.offset+e>=this.buffer.length)return-1;for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this.buffer[this.offset++]);return t},LhaArrayReader.prototype.readLength=function(){var e=this.readBits(3);if(-1==e)return-1;if(7==e)for(;0!=this.readBits(1);)e++;return e},LhaArrayReader.prototype.seek=function(e,t){switch(t){case LhaArrayReader.SeekAbsolute:this.offset=e,this.subOffset=7;break;case LhaArrayReader.SeekRelative:this.offset+=e,this.subOffset=7}},LhaArrayReader.prototype.getPosition=function(){return this.offset};var LhaArrayWriter=function(e){this.offset=0,this.size=e,this.data=new Uint8Array(e)};LhaArrayWriter.prototype.write=function(e){this.data[this.offset++]=e};var LhaTree=function(){};LhaTree.LEAF=32768,LhaTree.prototype.setConstant=function(e){this.tree[0]=e|LhaTree.LEAF},LhaTree.prototype.expand=function(){for(var e=this.allocated;this.nextEntry<e;)this.tree[this.nextEntry]=this.allocated,this.allocated+=2,this.nextEntry++},LhaTree.prototype.addCodesWithLength=function(e,t){for(var r=!0,n=0;n<e.length;n++)if(e[n]==t){var i=this.nextEntry++;this.tree[i]=n|LhaTree.LEAF}else e[n]>t&&(r=!1);return r},LhaTree.prototype.build=function(e,t){this.tree=[];for(var r=0;r<t;r++)this.tree[r]=LhaTree.LEAF;this.nextEntry=0,this.allocated=1;for(var n=0;this.expand(),n++,!this.addCodesWithLength(e,n););},LhaTree.prototype.readCode=function(e){for(var t=this.tree[0];0==(t&LhaTree.LEAF);){var r=e.readBits(1);t=this.tree[t+r]}return t&~LhaTree.LEAF};var LhaRingBuffer=function(e){this.data=[],this.size=e,this.offset=0};LhaRingBuffer.prototype.add=function(e){this.data[this.offset]=e,this.offset=(this.offset+1)%this.size},LhaRingBuffer.prototype.get=function(e,t){for(var r=this.offset+this.size-e-1,n=[],i=0;i<t;i++){var a=this.data[(r+i)%this.size];n.push(a),this.add(a)}return n};var LhaReader=function(e){if(this.reader=e,this.offsetTree=new LhaTree,this.codeTree=new LhaTree,this.ringBuffer=new LhaRingBuffer(8192),this.entries={},"MZ"==e.readString(2)){var t=e.readUInt16(),r=512*(e.readUInt16()-1)+(0!=t?t:512);e.seek(r,LhaArrayReader.SeekAbsolute)}else e.seek(0,LhaArrayReader.SeekAbsolute);for(;;){var n={};if(n.size=e.readUInt8(),n.size<=0)break;n.checksum=e.readUInt8(),n.id=e.readString(5),n.packedSize=e.readUInt32(),n.originalSize=e.readUInt32(),n.datetime=e.readUInt32(),n.attributes=e.readUInt16();var i=e.readUInt8();n.filename=e.readString(i).toLowerCase(),n.crc=e.readUInt16(),n.offset=e.getPosition(),this.entries[n.filename]=n,e.seek(n.packedSize,LhaArrayReader.SeekRelative)}};LhaReader.prototype.readTempTable=function(){var e=this.reader,t=Math.min(e.readBits(5),19);if(t<=0){var r=e.readBits(5);this.offsetTree.setConstant(r)}else{for(var n=[],i=0;i<t;i++){var a=e.readLength();if(n.push(a),2==i)for(var o=e.readBits(2);0<o--;)n.push(0),i++}this.offsetTree.build(n,38)}},LhaReader.prototype.readCodeTable=function(){var e=this.reader,t=Math.min(e.readBits(9),510);if(t<=0){var r=e.readBits(9);this.codeTree.setConstant(r)}else{for(var n=[],i=0;i<t;){var a=this.offsetTree.readCode(e);if(a<=2){var o=1;for(1==a?o=e.readBits(4)+3:2==a&&(o=e.readBits(9)+20);0<=--o;)n.push(0),i++}else n.push(a-2),i++}this.codeTree.build(n,1020)}},LhaReader.prototype.readOffsetTable=function(){var e=this.reader,t=Math.min(e.readBits(4),14);if(t<=0){var r=e.readBits(4);this.offsetTree.setConstant(r)}else{for(var n=[],i=0;i<t;i++){var a=e.readLength();n[i]=a}this.offsetTree.build(n,38)}},LhaReader.prototype.extract=function(e,t,r){null==e&&(e=Object.keys(this.entries)[0]);var n=this.entries[e];if(!n)return null;this.reader.seek(n.offset,LhaArrayReader.SeekAbsolute);var i=new LhaArrayWriter(n.originalSize),a=this;return function e(){if(a.extractBlock(i)){if(t&&t(i.offset,i.size),i.offset>=i.size)return;setTimeout(e,1)}}(),i.data},LhaReader.prototype.extractBlock=function(e){var t=this.reader,r=t.readBits(16);if(r<=0||t.offset>=t.size)return!1;this.readTempTable(),this.readCodeTable(),this.readOffsetTable();for(var n=0;n<r;n++){var i=this.codeTree.readCode(t);if(i<256)this.ringBuffer.add(i),e.write(i);else{var a=this.offsetTree.readCode(t),o=a;2<=a&&(o=t.readBits(a-1),o+=1<<a-1);var s=i-256+3,f=this.ringBuffer.get(o,s);for(var u in f)e.write(f[u])}}return!0},ConverterBase=function(){this._ptr=0},ConverterBase.prototype={getIntLE:function(e){for(var t=0,r=0;r<4;r++)t+=e[this._ptr++]<<8*r;return t},getIntBE:function(e){for(var t=0,r=0;r<4;r++)t+=e[this._ptr++]<<8*(3-r);return t},getShortBE:function(e){for(var t=0,r=0;r<2;r++)t+=e[this._ptr++]<<8*(1-r);return t},getStr:function(e){for(var t,r="";t=e[this._ptr++];)r+=String.fromCharCode(t);return r},makeStr:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},framesToText:function(e){for(var t="",r=0;r<e.length;r++){for(var n=0;n<15;n++)t+=e[r][n]+" ";t+=e[r][15]+"\n"}return t},saveText:function(t,e){var r="";return Object.keys(t).sort().forEach(function(e){r+=e+" "+t[e]+"\n"}),r+="frame_data\n"+e,"TextEncoder"in window||alert("Sorry, this browser does not support TextEncoder..."),(new TextEncoder).encode(r)}},FymConverter=function(){var t=function(e){t.base.call(this),this.caller=e};return extend(ConverterBase,t,{convert:function(e){void 0===window.pako&&alert("ERROR unresolved pako library dependency");var t=window.pako.inflate(new Uint8Array(e)),r=this.getIntLE(t),n=this.getIntLE(t),i=(this.getIntLE(t),this.getIntLE(t)),a=this.getIntLE(t);this.caller.setTrackInfo(this.getStr(t),this.getStr(t),"");var o={pan_a:10,pan_b:50,pan_c:90,volume:50};o.frame_count=n,o.clock_rate=i,o.frame_rate=a;for(var s=[],f=0;f<n;f++)s.push(new Array(16).fill(0));for(f=0;f<14;f++)for(var u=0;u<n;u++)s[u][f]=t[r+f*n+u];var l=this.framesToText(s);return this.saveText(o,l)}}),t}(),YmConverter=function(){var t=function(e){t.base.call(this),this.caller=e};return extend(ConverterBase,t,{convert:function(e){var t=this.makeStr(e,2,3);"-lh"!=t&&"-lz"!=t||(e=new LhaReader(new LhaArrayReader(e)).extract(null,function(e,t){console.log("Extracting LHA data: "+e/t*100+"% complete.")}));if("LeOnArD!"!=this.makeStr(e,4,8))return null;this._ptr=12;var r=this.getIntBE(e),n=(this.getIntBE(e),this.getShortBE(e));n&&console.log("WARNING: YM digi drums not implemented");var i=this.getIntBE(e),a=this.getShortBE(e);this.getIntBE(e),this.getShortBE(e);this._ptr=34;for(var o=0;o<n;o++){var s=this.getIntBE(e);this._ptr+=s}this.caller.setTrackInfo(this.getStr(e),this.getStr(e),this.getStr(e));var f=this._ptr,u={pan_a:10,pan_b:50,pan_c:90,volume:50};u.frame_count=r,u.clock_rate=i,u.frame_rate=a;var l=[];for(o=0;o<r;o++)l.push(new Array(16).fill(0));for(o=0;o<14;o++)for(var d=0;d<r;d++)l[d][o]=e[f+o*r+d];var c=this.framesToText(l);return this.saveText(u,c)}}),t}(),PSGConverter=function(){var t=function(e){t.base.call(this),this.caller=e};return extend(ConverterBase,t,{frameToTxt:function(e){return e[13]!=this.old_shape?this.old_shape=e[13]:e[13]=255,e[0]+" "+e[1]+" "+e[2]+" "+e[3]+" "+e[4]+" "+e[5]+" "+e[6]+" "+e[7]+" "+e[8]+" "+e[9]+" "+e[10]+" "+e[11]+" "+e[12]+" "+e[13]+" "+e[14]+" "+e[15]+"\n"},convert:function(e){if("PSG"!=this.makeStr(e,0,4))return null;var t={pan_a:10,pan_b:50,pan_c:90,volume:50},r=new Array(16).fill(0);this.old_shape=255;for(var n="",i=t.frame_count=0;i<e.length;){var a=e[i];if(i+=1,a<16)r[a]=e[i],i+=1;else{if(253==a)break;if(255==a)n+=this.frameToTxt(r),t.frame_count+=1;else if(254==a){var o=e[i];i+=1;for(var s=0;s<4*o;s++)n+=this.frameToTxt(r),t.frame_count+=1}}}return this.saveText(t,n)}}),t}(),AFXConverter=function(){var t=function(e){t.base.call(this),this.caller=e};return extend(ConverterBase,t,{frameToTxt:function(e,t,r,n,i){return e+" "+t+" 0 0 0 0 "+r+" "+n+" "+i+" 0 0 0 0 255 0 0\n"},convert:function(e){for(var t={pan_a:50,pan_b:0,pan_c:0,volume:140},r=0,n=0,i=0,a=0,o=0,s=0,f="",u=t.frame_count=0;u<e.length&&(r=15&(s=e[u]),a=0!=(16&s),o=0!=(128&s),u+=1,32&s&&(n=e[u]|e[u+1]<<8,u+=2),64&s&&(i=e[u],u+=1),32!=i);)f+=this.frameToTxt(255&n,n>>8&15,i,a|o<<3,r),t.frame_count+=1;return this.saveText(t,f)}}),t}(),AyumiBackendAdapter=function(){var e=function(){e.base.call(this,backend_AYUMI.Module,2),this.playerSampleRate};return extend(EmsHEAP16BackendAdapter,e,{getAudioBuffer:function(){return this.Module.ccall("getSoundBuffer","number")>>1},getAudioBufferLength:function(){return this.Module.ccall("getSoundBufferLen","number")},computeAudioSamples:function(){return this.Module.ccall("computeAudioSamples","number")<=0?1:0},getPathAndFilename:function(e){return["/",e]},registerFileData:function(e,t){return 0},convert2text:function(e,t){return this.trackName=e.split("/").pop(),this.authorName="",this.trackComment="",e.endsWith(".fym")?new FymConverter(this).convert(t):e.endsWith(".ym")?new YmConverter(this).convert(t):e.endsWith(".psg")?new PSGConverter(this).convert(t):e.endsWith(".afx")?new AFXConverter(this).convert(t):e.endsWith(".text")?t:null},setTrackInfo:function(e,t,r){this.trackName=e,this.authorName=t,this.trackComment=r},loadMusicData:function(e,t,r,n,i){n=this.convert2text(r,n);var a=this.Module._malloc(n.length);this.Module.HEAPU8.set(n,a);var o=this.Module.ccall("loadSongFile","number",["number","number","number"],[e,a,n.length]);return this.Module._free(a),o},evalTrackOptions:function(e){return void 0!==e.timeout&&ScriptNodePlayer.getInstance().setPlaybackTimeout(1e3*e.timeout),0},teardown:function(){},getSongInfoMeta:function(){return{songName:String,songAuthor:String}},updateSongInfo:function(e,t){t.songName=this.trackName,t.songAuthor=this.authorName},getBufferVoice1:function(){return this.Module.ccall("getBufferVoice1","number")>>1},getBufferVoice2:function(){return this.Module.ccall("getBufferVoice2","number")>>1},getBufferVoice3:function(){return this.Module.ccall("getBufferVoice3","number")>>1},getBufferVoice4:function(){return this.Module.ccall("getBufferVoice4","number")>>1}}),e}();